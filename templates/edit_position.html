{% extends "base.html" %}

{% block content %}
<div class="container-xxl flex-grow-1 container-p-y">
    <h4 class="fw-bold py-3 mb-4">
        <span class="text-muted fw-light">Position Management /</span> Edit Position
    </h4>

    <form action="{{ url_for('edit_position', pos_id=position[0]) }}" method="post">
        <!-- Position Name -->
        <div class="mb-3">
            <label for="position_name" class="form-label">Position Name</label>
            <input type="text" id="position_name" name="position_name" class="form-control" value="{{ position[1] }}" required>
        </div>
        
        <!-- Department Selection -->
        <div class="mb-3">
            <label for="department" class="form-label">Department</label>
            <select id="department" name="department" class="form-select" required>
                {% for dept in departments %}
                    <option value="{{ dept[0] }}" {% if dept[0] == position[2] %}selected{% endif %}>
                        {{ dept[1] }}
                    </option>
                {% endfor %}
            </select>
        </div>

        <!-- Team Selection (Optional) -->
        <div class="mb-3">
            <label for="team" class="form-label">Team (Optional)</label>
            <select id="team" name="team" class="form-select">
                <option value="">No Team</option> <!-- No Team option -->
                {% for team in teams %}
                    <option value="{{ team[0] }}" {% if team[0] == position[4] %}selected{% endif %}>
                        {{ team[1] }}
                    </option>
                {% endfor %}
            </select>
        </div>

        <!-- Basic Salary -->
        <div class="mb-3">
            <label for="basic_salary" class="form-label">Basic Salary</label>
            <input type="number" id="basic_salary" name="basic_salary" class="form-control" value="{{ position[3] }}" required>
        </div>
        
        <!-- Submit Button -->
        <button type="submit" class="btn btn-primary">Update Position</button>
    </form>
</div>
{% endblock %}
