{% extends "userbase.html" %}

{% block content %}
    <div class="container mt-4">
        <h1 class="text-center mb-4">Team Directory (Hierarchical View)</h1>

        <div class="team-directory-container">
            {% for department, members in departments.items() %}
            <div class="department-card">
                <h3 class="department-name">{{ department }}</h3>
                <ul class="team-list">
                    {% for member in members %}
                    <li class="team-member">
                        <div class="member-info">
                            <i class="{{ 'fa fa-user-tie' if member.is_leader else 'fa fa-user' }}"></i> 
                            <strong>{{ member.emp_name }}</strong> 
                            {% if member.is_leader %}
                            ({{ 'Team Leader' if member.is_team_leader else 'Dept Leader' }})
                            {% endif %}
                            - <a href="mailto:{{ member.email }}">{{ member.email }}</a>
                        </div>
                    </li>
                    {% endfor %}
                </ul>
            </div>
            {% endfor %}
        </div>

        <!-- Return to Homepage Button -->
        <div class="return-button-container text-center mt-4">
            <a href="{{ url_for('check_in') }}" class="return-button">Return to Homepage</a>
        </div>
    </div>
{% endblock %}
